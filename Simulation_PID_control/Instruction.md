ğŸ“Š ì „ì²´ ì‹¤í–‰ íë¦„ (í° ê·¸ë¦¼)

ì‹œì‘ (ui_plot.pyì˜ main())
  â†“
PID ê²Œì¸ê°’ ì„¤ì • (Kp, Ki, Kd)
  â†“
run_simulation() í˜¸ì¶œ â†’ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
  â†“
[ë§¤ 0.1ì´ˆë§ˆë‹¤ ë°˜ë³µ ë£¨í”„]
  1. PIDController.update() â†’ ì œì–´ ì¶œë ¥ ê³„ì‚°
  2. TemperatureSystem.update() â†’ ì˜¨ë„ ë³€í™” ì‹œë®¬ë ˆì´ì…˜
  â†“
ê²°ê³¼ ë°ì´í„° ë°˜í™˜ (ë”•ì…”ë„ˆë¦¬)
  â†“
plot_results() â†’ ê·¸ë˜í”„ ì¶œë ¥
  â†“
print_performance() â†’ ì„±ëŠ¥ ë¶„ì„
  â†“
ì¢…ë£Œ





ğŸ” ìƒì„¸ íë¦„ (í•¨ìˆ˜ë³„ ë°ì´í„° ì´ë™)
1ë‹¨ê³„: í”„ë¡œê·¸ë¨ ì‹œì‘
python# ui_plot.pyì˜ main()ì—ì„œ ì‹œì‘
Kp = 5.0
Ki = 0.1  
Kd = 1.0
target_temp = 200  # ëª©í‘œ ì˜¨ë„
sim_time = 300     # 5ë¶„ê°„ ì‹œë®¬ë ˆì´ì…˜

2ë‹¨ê³„: run_simulation() í˜¸ì¶œ
python# temperature_system.py
data = run_simulation(Kp=5.0, Ki=0.1, Kd=1.0, 
                     target_temp=200, sim_time=300)
ì´ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ:
2-1. ê°ì²´ ìƒì„±
python# PID ì œì–´ê¸° ìƒì„±
pid = PIDController(Kp=5.0, Ki=0.1, Kd=1.0, setpoint=200)
# â†’ pid.Kp = 5.0
# â†’ pid.Ki = 0.1
# â†’ pid.Kd = 1.0
# â†’ pid.setpoint = 200
# â†’ pid.integral = 0.0 (ì´ˆê¸°ê°’)
# â†’ pid.prev_error = 0.0 (ì´ˆê¸°ê°’)

# ì˜¨ë„ ì‹œìŠ¤í…œ ìƒì„±  
system = TemperatureSystem(initial_temp=25, ambient_temp=25)
# â†’ system.temp = 25Â°C (í˜„ì¬ ì˜¨ë„)
# â†’ system.ambient = 25Â°C (ì‹¤ì˜¨)

3ë‹¨ê³„: ë©”ì¸ ë£¨í”„ (0.1ì´ˆë§ˆë‹¤ 3000ë²ˆ ë°˜ë³µ)
ë§¤ ë£¨í”„ë§ˆë‹¤ ë‹¤ìŒ ìˆœì„œë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤:
ì‹œê°„ = 0.0ì´ˆ (ì²« ë£¨í”„)
Step 1: PID ì œì–´ ì¶œë ¥ ê³„ì‚°
python# pid.update(current_temp=25, dt=0.1) í˜¸ì¶œ
current_temp = 25Â°C

# â‘  ì˜¤ì°¨ ê³„ì‚°
error = 200 - 25 = 175Â°C

# â‘¡ Pí•­ ê³„ì‚°
P = 5.0 Ã— 175 = 875

# â‘¢ Ií•­ ê³„ì‚°
integral += 175 Ã— 0.1 = 17.5
I = 0.1 Ã— 17.5 = 1.75

# â‘£ Dí•­ ê³„ì‚°
derivative = (175 - 0) / 0.1 = 1750
D = 1.0 Ã— 1750 = 1750

# â‘¤ PID ì¶œë ¥ = P + I + D
output = 875 + 1.75 + 1750 = 2626.75

# ë°˜í™˜ê°’: (2626.75, 875, 1.75, 1750)
Step 2: íˆí„° ì¶œë ¥ ì œí•œ
python# ì‹¤ì œ íˆí„°ëŠ” 0~100%ë§Œ ê°€ëŠ¥
heater_power = np.clip(2626.75, 0, 100) = 100%
Step 3: ì˜¨ë„ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
python# system.update(heater_power=100, dt=0.1) í˜¸ì¶œ

# â‘  ê°€ì—´ëŸ‰ ê³„ì‚°
heating = 100 / 5.0 = 20.0

# â‘¡ ëƒ‰ê°ëŸ‰ ê³„ì‚°  
cooling = 0.03 Ã— (25 - 25) = 0.0

# â‘¢ ì˜¨ë„ ë³€í™”
temp += (20.0 - 0.0) Ã— 0.1 = 25 + 2.0 = 27Â°C

# ë°˜í™˜ê°’: 27Â°C
Step 4: ë°ì´í„° ì €ì¥
pythontimes.append(0.0)
temperatures.append(25)
setpoints.append(200)
heater_powers.append(100)
p_terms.append(875)
i_terms.append(1.75)
d_terms.append(1750)

ì‹œê°„ = 0.1ì´ˆ (ë‘ ë²ˆì§¸ ë£¨í”„)
Step 1: PID ì œì–´ ì¶œë ¥ ê³„ì‚°
pythoncurrent_temp = 27Â°C  # ì´ì „ ë£¨í”„ì—ì„œ ì—…ë°ì´íŠ¸ëœ ê°’

# â‘  ì˜¤ì°¨ ê³„ì‚°
error = 200 - 27 = 173Â°C

# â‘¡ Pí•­
P = 5.0 Ã— 173 = 865

# â‘¢ Ií•­ (ëˆ„ì !)
integral += 173 Ã— 0.1 = 17.5 + 17.3 = 34.8
I = 0.1 Ã— 34.8 = 3.48

# â‘£ Dí•­
derivative = (173 - 175) / 0.1 = -20
D = 1.0 Ã— (-20) = -20

# â‘¤ ì¶œë ¥
output = 865 + 3.48 + (-20) = 848.48
Step 2: íˆí„° ì¶œë ¥
pythonheater_power = np.clip(848.48, 0, 100) = 100%
Step 3: ì˜¨ë„ ì—…ë°ì´íŠ¸
pythonheating = 100 / 5.0 = 20.0
cooling = 0.03 Ã— (27 - 25) = 0.06
temp = 27 + (20.0 - 0.06) Ã— 0.1 = 27 + 1.994 = 28.994Â°C

ì´ ê³¼ì •ì´ 3000ë²ˆ ë°˜ë³µë˜ë©´ì„œ:

PIDê°€ ê³„ì† ì˜¤ì°¨ë¥¼ ë³´ê³  ì¶œë ¥ì„ ì¡°ì •
ì˜¨ë„ê°€ ì ì  200Â°Cì— ê°€ê¹Œì›Œì§
ì ë¶„í•­ì´ ê³„ì† ëˆ„ì ë¨
ë¯¸ë¶„í•­ì´ ì˜¤ì°¨ ë³€í™”ì— ë°˜ì‘


4ë‹¨ê³„: ê²°ê³¼ ë°˜í™˜
python# ëª¨ë“  ë£¨í”„ê°€ ëë‚˜ë©´
return {
    'times': [0.0, 0.1, 0.2, ..., 299.9],
    'temperatures': [25, 27, 28.9, ..., 200.5],
    'setpoints': [200, 200, 200, ..., 200],
    'heater_powers': [100, 100, 98, ..., 45],
    'p_terms': [875, 865, ..., 2.5],
    'i_terms': [1.75, 3.48, ..., 350],
    'd_terms': [1750, -20, ..., -0.5],
    'Kp': 5.0,
    'Ki': 0.1,
    'Kd': 1.0
}

5ë‹¨ê³„: ê²°ê³¼ ì¶œë ¥
python# ui_plot.pyë¡œ ëŒì•„ì™€ì„œ

# ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
plot_results(data)
# â†’ 3ê°œì˜ ê·¸ë˜í”„ (ì˜¨ë„, íˆí„°ì¶œë ¥, PIDê°í•­) ìƒì„±

# ì„±ëŠ¥ ë¶„ì„
print_performance(data)  
# â†’ ì •ìƒìƒíƒœ ë„ë‹¬ì‹œê°„, ì˜¤ë²„ìŠˆíŠ¸, MSE ê³„ì‚°
```

---

## ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸

1. **PIDController.update()**ê°€ **"ë‘ë‡Œ"** ì—­í• 
   - ì˜¤ì°¨ë¥¼ ë³´ê³  "íˆí„°ë¥¼ ì–¼ë§ˆë‚˜ ì¼¤ê¹Œ?" ê²°ì •

2. **TemperatureSystem.update()**ê°€ **"ë¬¼ë¦¬ ì„¸ê³„"** ì—­í• 
   - íˆí„° ì¶œë ¥ì„ ë°›ì•„ì„œ "ì‹¤ì œë¡œ ì˜¨ë„ê°€ ì–¼ë§ˆë‚˜ ì˜¬ë¼ê°ˆê¹Œ?" ê³„ì‚°

3. **ë£¨í”„ë¥¼ ëŒë©´ì„œ ê³„ì† ìƒí˜¸ì‘ìš©**
```
   PID: "ì˜¤ì°¨ê°€ 175Â°Cë„¤, íˆí„° 100% ì¼œ!"
   System: "100% ë°›ì•˜ì–´, ì˜¨ë„ 2Â°C ì˜¬ë¦¼"
   
   PID: "ì•„ì§ ì˜¤ì°¨ 173Â°C, ê³„ì† 100%!"
   System: "ê³„ì† ì˜¬ë¼ê°€ëŠ” ì¤‘..."
   
   ... (ë°˜ë³µ) ...
   
   PID: "ê±°ì˜ ë‹¤ ì™”ë„¤, ì˜¤ì°¨ 2Â°C, íˆí„° 45%ë§Œ"
   System: "ì´ì œ ì²œì²œíˆ ì˜¬ë¼ê°"
